<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Anime Music List</title>
    <link rel="stylesheet" type="text/css" href="/css/animeMusic.css">
    <script>
        function searchList() {
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("searchBar");
            filter = input.value.toUpperCase();
            table = document.querySelector(".container table");
            tr = table.getElementsByTagName("tr");

            for (i = 0; i < tr.length; i++) {
                var animeName = tr[i].getElementsByTagName("td")[1];
                var animeSong = tr[i].getElementsByTagName("td")[2];
                var artist = tr[i].getElementsByTagName("td")[3];

                // Concatenate text content for Anime Name, Anime Song, and Artist
                txtValue = (animeName ? animeName.textContent || animeName.innerText : "")
                    + (animeSong ? animeSong.textContent || animeSong.innerText : "")
                    + (artist ? artist.textContent || artist.innerText : "");

                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    </script>

</head>
<body>
    <div class="navbar">
        <a href="/">
            <img src="/images/Logo/ScrapBox.PNG" alt="Your Logo">
        </a>
        <nav class="nav-links">
            <a href="/animeList">Anime List</a>
            <!--
            <a href="/deck-builder">Deck Builder</a>
            <a href="/mtg-cards">MTG Cards</a>
            <a href="/events">Events</a>
            <a href="/draft-sim">Draft Sim</a>
            <a href="/cubes">Cubes</a>
            <a href="/forums">Forums</a>
            <a href="/rules-q-a">Rules Q&A</a>
            <a href="/community">Community</a>
            -->
            <a>
                <label for="searchBar">Search:</label>
                <input type="text" id="searchBar" oninput="searchList()" placeholder="Type to search">
            </a>
        </nav>
    </div>

    <div class="container" style="display: flex; justify-content: space-between;">
        <div>
            <h1>Anime Song List</h1>
        </div>
        <div>
            <!-- Dropdown menu to select sorting option -->
            <form th:action="@{/AnimeMusticList}" method="get">
                <label for="sortOption">Sort by:</label>
                <select id="sortOption" name="sortOption">
                    <option value="default">Default</option>
                    <option value="anime name">Anime Name</option>
                    <option value="song">Song</option>
                    <option value="artist">Artist</option>
                    <!-- Add more options for different sorting criteria if needed -->
                </select>
                <button type="submit">Sort</button>
            </form>
        </div>
    </div>
    <div class="container">
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Anime Name</th>
            <th>Anime Song</th>
            <th>Artist</th>
            <th>OP/ED/IN</th>
            <!--
            <th>Anime Link</th>
            <th>Official Link</th>
            <th>Alternative Link</th>
            -->
            <th>Anime Song Lyrics</th>
            <th>Last Update</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="music : ${animemusiclist}">
            <td th:text="${music.id}">1</td>
            <td th:text="${music.animeName}">Anime Name</td>
            <td th:text="${music.animeSong}">Something</td>
            <td th:text="${music.artist}">Flamingo Boy</td>
            <td th:text="${music.opedin}">opening</td>
            <!--
            <td th:if="${music.animeLink ne null}">
                <a th:href="${music.animeLink}" target="_blank">Link</a>
            </td>
            <td th:unless="${music.animeLink ne null}">-</td>

            <td th:if="${music.officialLink ne null}">
                <a th:href="${music.officialLink}" target="_blank">Link</a>
            </td>
            <td th:unless="${music.officialLink ne null}">-</td>

            <td th:if="${music.alternativeLink ne null}">
                <a th:href="${music.alternativeLink}" target="_blank">Link</a>
            </td>
            <td th:unless="${music.alternativeLink ne null}">-</td>
            -->
            <td th:if="${music.animeSongLyrics ne null}">
                <a th:href="${music.animeSongLyrics}" target="_blank">Link</a>
            </td>
            <td th:unless="${music.animeSongLyrics ne null}"> </td>

            <td th:text="${music.lastUpdate}">link here</td>
        </tr>
        </tbody>
    </table>
</div>
</body>
<footer>
    <div class="navbar">
        <a href="/">

        </a>
    </div>
    </div>
</footer>
</html>